<script setup>
import { useStore } from "vuex";
import { computed } from "vue";
import { getTime, getIcon } from "../helpers";
import ImgLoad from "../components/img-load.vue";
const store = useStore();
const hourly = computed(() => store.getters.hourly);
</script>
<template>
  <div
    v-if="hourly"
    class="flex gap-2 overflow-auto forecast__slider snap-x py-3"
  >
    <div
      v-for="(hour, index) in hourly"
      :key="index"
      class="
        card
        min-w-[13rem]
        bg-primary
        backdrop-blur-none
        bg-none
        text-white text-center
        flex flex-col
        gap-3
        snap-center
        md:snap-start
      "
    >
      <span class="text-base">{{ Math.round(hour.temp) }}Â°</span>
      <span class="flex justify-center">
        <ImgLoad
          :source="getIcon(hour.weather[0].main)"
          :alternative="hour.weather[0].description"
        />
      </span>

      <span class="time">{{ getTime(hour.dt) }}</span>
      <div class="forecast__list flex flex-col items-center gap-2">
        <div class="forcast__item flex">
          <div class="flex gap-3 w-24 justify-center">
            <span class="w-5 h-5 grid place-content-center">
              <svg
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_206_256)">
                  <path
                    d="M7.76954 19.746C7.76954 19.4795 7.86728 19.2238 8.04125 19.0354C8.21523 18.8469 8.45119 18.741 8.69723 18.741C8.94327 18.741 9.17923 18.8469 9.35321 19.0354C9.52719 19.2238 9.62492 19.4795 9.62492 19.746C9.6259 20.4737 9.89317 21.1713 10.3681 21.6858C10.8431 22.2004 11.4871 22.4899 12.1588 22.491C12.9644 22.4899 13.7368 22.1428 14.3064 21.5256C14.8761 20.9085 15.1966 20.0718 15.1975 19.199C15.1963 18.1602 14.8147 17.1644 14.1365 16.43C13.4583 15.6957 12.5389 15.2828 11.58 15.282H0.927692C0.681653 15.282 0.445691 15.1761 0.271715 14.9876C0.0977387 14.7992 0 14.5435 0 14.277C0 14.0105 0.0977387 13.7548 0.271715 13.5664C0.445691 13.3779 0.681653 13.272 0.927692 13.272H11.58C13.0307 13.2741 14.4214 13.8994 15.4471 15.0106C16.4729 16.1219 17.05 17.6284 17.052 19.2C17.0498 20.605 16.5337 21.9518 15.6167 22.9454C14.6997 23.939 13.4566 24.4984 12.1597 24.501C10.996 24.4999 9.88017 23.9988 9.05712 23.1075C8.23407 22.2163 7.77101 21.0077 7.76954 19.747V19.746ZM13.0329 11.731C12.7869 11.731 12.5509 11.6251 12.3769 11.4366C12.203 11.2482 12.1052 10.9925 12.1052 10.726C12.1052 10.4595 12.203 10.2038 12.3769 10.0154C12.5509 9.82688 12.7869 9.721 13.0329 9.721H18.7154C19.6746 9.71994 20.5942 9.30654 21.2723 8.57157C21.9504 7.8366 22.3315 6.84014 22.332 5.801C22.331 4.92823 22.0106 4.09151 21.4409 3.47437C20.8712 2.85723 20.0989 2.51006 19.2932 2.509C18.6215 2.51006 17.9776 2.7996 17.5026 3.31416C17.0276 3.82872 16.7604 4.52631 16.7594 5.254C16.7594 5.52054 16.6616 5.77617 16.4877 5.96464C16.3137 6.15312 16.0777 6.259 15.8317 6.259C15.5857 6.259 15.3497 6.15312 15.1757 5.96464C15.0017 5.77617 14.904 5.52054 14.904 5.254C14.9055 3.99348 15.3684 2.78505 16.1913 1.89382C17.0141 1.00258 18.1297 0.501323 19.2932 0.5C20.5902 0.502379 21.8334 1.0615 22.7505 2.0549C23.6677 3.0483 24.184 4.39499 24.1865 5.8C24.1848 7.37173 23.6077 8.87856 22.5819 9.99004C21.5561 11.1015 20.1653 11.7269 18.7145 11.729L13.0329 11.731ZM0.927692 11.731C0.681653 11.731 0.445691 11.6251 0.271715 11.4366C0.0977387 11.2482 0 10.9925 0 10.726C0 10.4595 0.0977387 10.2038 0.271715 10.0154C0.445691 9.82688 0.681653 9.721 0.927692 9.721H6.612C7.57105 9.71968 8.49042 9.30616 9.16831 8.57121C9.8462 7.83627 10.2272 6.83997 10.2277 5.801C10.2262 4.92858 9.90554 4.09237 9.33593 3.47567C8.76631 2.85896 7.99424 2.51206 7.18892 2.511C6.51721 2.51206 5.87328 2.8016 5.3983 3.31616C4.92333 3.83072 4.65605 4.52831 4.65508 5.256C4.65508 5.52254 4.55734 5.77817 4.38336 5.96664C4.20939 6.15512 3.97342 6.261 3.72739 6.261C3.48135 6.261 3.24538 6.15512 3.07141 5.96664C2.89743 5.77817 2.79969 5.52254 2.79969 5.256C2.80091 3.99521 3.26371 2.78642 4.08656 1.89481C4.90941 1.00321 6.02512 0.501588 7.18892 0.5C8.48586 0.502379 9.72905 1.0615 10.6462 2.0549C11.5634 3.0483 12.0797 4.39499 12.0822 5.8C12.0804 7.37242 11.5029 8.87986 10.4763 9.99145C9.4497 11.103 8.05793 11.7279 6.60646 11.729L0.927692 11.731Z"
                    fill="white"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_206_256">
                    <rect
                      width="24"
                      height="24"
                      fill="white"
                      transform="translate(0 0.5)"
                    />
                  </clipPath>
                </defs>
              </svg>
            </span>

            <span>Wind</span>
          </div>
          |

          <div class="w-20">{{ hour.wind_speed }}m/s</div>
        </div>
        <div class="forcast__item flex">
          <div class="flex gap-3 w-24 justify-center">
            <span class="w-5 h-5 grid place-content-center">
              <svg
                width="14"
                height="19"
                viewBox="0 0 14 19"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12.857 8.36957L7.88525 0.452569C7.81312 0.351327 7.71783 0.268791 7.60733 0.211842C7.49683 0.154894 7.37431 0.125181 7.25 0.125181C7.12569 0.125181 7.00318 0.154894 6.89267 0.211842C6.78217 0.268791 6.68688 0.351327 6.61475 0.452569L1.6205 8.40707C0.926664 9.52627 0.540174 10.8086 0.5 12.1248C0.5 13.915 1.21116 15.6319 2.47703 16.8978C3.7429 18.1637 5.45979 18.8748 7.25 18.8748C9.04021 18.8748 10.7571 18.1637 12.023 16.8978C13.2888 15.6319 14 13.915 14 12.1248C13.9569 10.7942 13.5625 9.4986 12.857 8.36957ZM7.25 17.3748C5.85816 17.373 4.52384 16.8193 3.53966 15.8352C2.55548 14.851 2.00179 13.5167 2 12.1248C2.03986 11.076 2.3549 10.0561 2.9135 9.16757L3.61475 8.05007L11.1702 15.6056C10.6795 16.1615 10.0763 16.6068 9.4004 16.912C8.72454 17.2171 7.99155 17.3744 7.25 17.3748Z"
                  fill="white"
                />
              </svg>
            </span>

            <span>Hum</span>
          </div>
          |
          <div class="w-20">{{ hour.humidity }}%</div>
        </div>
      </div>
    </div>
  </div>
</template>